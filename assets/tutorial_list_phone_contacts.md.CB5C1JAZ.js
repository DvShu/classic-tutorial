import{s as n,c as l,j as a,t as o,e as p,a as r,a2 as d,o as c}from"./chunks/framework.Bl6jbTPO.js";function k(){return"contacts"in navigator}async function u(e=["tel","name","email","icon","address"],s){if(!k())throw new Error("-1:当前浏览器不支持联系人功能");try{return await navigator.contacts.select(e,{multiple:s})}catch(t){throw new Error("2:"+(t.message||"未知错误"))}}const _=a("h1",{id:"手机联系人",tabindex:"-1"},[r("手机联系人 "),a("a",{class:"header-anchor",href:"#手机联系人","aria-label":'Permalink to "手机联系人"'},"​")],-1),g=a("p",null,"使用JavaScript读取手机联系人列表",-1),E=a("h2",{id:"演示",tabindex:"-1"},[r("演示 "),a("a",{class:"header-anchor",href:"#演示","aria-label":'Permalink to "演示"'},"​")],-1),y=a("hr",null,null,-1),m={key:0,class:"color-red"},v=d(`<h2 id="代码" tabindex="-1">代码 <a class="header-anchor" href="#代码" aria-label="Permalink to &quot;代码&quot;">​</a></h2><h3 id="简单说明" tabindex="-1">简单说明 <a class="header-anchor" href="#简单说明" aria-label="Permalink to &quot;简单说明&quot;">​</a></h3><blockquote><ol><li>联系人 <code>api</code> 运行在安全模式(<code>https</code>)下</li><li>通过 <code>&quot;contacts&quot; in navigator</code> 判断浏览器是否支持该特性</li><li><code>await navigator.contacts.select()</code> 打开联系人选择器，返回选中列表</li></ol></blockquote><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> isSupport</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  return</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;contacts&quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> in</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> navigator;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> contacts</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> ContactItem</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> await</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> navigator.contacts.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">select</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(propertys, {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  multiple,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">});</span></span></code></pre></div><blockquote><p>对于源码, 请参考 <a href="https://github.com/DvShu/classic-tutorial" target="_blank" rel="noreferrer">classic-tutorial</a> 工程目录下: <code>docs/libs/contacts.ts</code></p></blockquote>`,5),C=JSON.parse('{"title":"手机联系人","description":"","frontmatter":{},"headers":[],"relativePath":"tutorial_list/phone_contacts.md","filePath":"tutorial_list/phone_contacts.md","lastUpdated":1725589903000}'),b={name:"tutorial_list/phone_contacts.md"},q=Object.assign(b,{setup(e){const s=n(""),t=n("");async function h(){try{const i=await u();t.value=JSON.stringify(i,null,2)}catch(i){s.value=i.message}}return(i,f)=>(c(),l("div",null,[_,g,E,a("p",null,[a("button",{onClick:h},"读取联系人")]),y,a("div",null,[s.value!==""?(c(),l("span",m,o(s.value),1)):p("",!0),a("div",null,o(t.value),1)]),v]))}});export{C as __pageData,q as default};
